<?xml version="1.0" encoding="UTF-8" ?>

<Form version="1.3" maxVersion="1.9" type="org.netbeans.modules.form.forminfo.JFrameFormInfo">
  <SyntheticProperties>
    <SyntheticProperty name="formSizePolicy" type="int" value="1"/>
    <SyntheticProperty name="generateCenter" type="boolean" value="false"/>
  </SyntheticProperties>
  <AuxValues>
    <AuxValue name="FormSettings_autoResourcing" type="java.lang.Integer" value="0"/>
    <AuxValue name="FormSettings_autoSetComponentName" type="java.lang.Boolean" value="false"/>
    <AuxValue name="FormSettings_generateFQN" type="java.lang.Boolean" value="true"/>
    <AuxValue name="FormSettings_generateMnemonicsCode" type="java.lang.Boolean" value="false"/>
    <AuxValue name="FormSettings_i18nAutoMode" type="java.lang.Boolean" value="false"/>
    <AuxValue name="FormSettings_layoutCodeTarget" type="java.lang.Integer" value="1"/>
    <AuxValue name="FormSettings_listenerGenerationStyle" type="java.lang.Integer" value="0"/>
    <AuxValue name="FormSettings_variablesLocal" type="java.lang.Boolean" value="false"/>
    <AuxValue name="FormSettings_variablesModifier" type="java.lang.Integer" value="2"/>
  </AuxValues>

  <Layout>
    <DimensionLayout dim="0">
      <Group type="103" groupAlignment="0" attributes="0">
          <Group type="102" alignment="0" attributes="0">
              <EmptySpace max="-2" attributes="0"/>
              <Component id="jScrollPane1" pref="736" max="32767" attributes="0"/>
              <EmptySpace max="-2" attributes="0"/>
          </Group>
          <Group type="102" alignment="0" attributes="0">
              <EmptySpace min="-2" pref="241" max="-2" attributes="0"/>
              <Component id="jButton1" min="-2" max="-2" attributes="0"/>
              <EmptySpace max="32767" attributes="0"/>
          </Group>
      </Group>
    </DimensionLayout>
    <DimensionLayout dim="1">
      <Group type="103" groupAlignment="0" attributes="0">
          <Group type="102" alignment="0" attributes="0">
              <EmptySpace min="-2" pref="5" max="-2" attributes="0"/>
              <Component id="jButton1" min="-2" max="-2" attributes="0"/>
              <EmptySpace max="-2" attributes="0"/>
              <Component id="jScrollPane1" min="-2" pref="519" max="-2" attributes="0"/>
              <EmptySpace max="32767" attributes="0"/>
          </Group>
      </Group>
    </DimensionLayout>
  </Layout>
  <SubComponents>
    <Container class="javax.swing.JScrollPane" name="jScrollPane1">
      <AuxValues>
        <AuxValue name="autoScrollPane" type="java.lang.Boolean" value="true"/>
      </AuxValues>

      <Layout class="org.netbeans.modules.form.compat2.layouts.support.JScrollPaneSupportLayout"/>
      <SubComponents>
        <Component class="javax.swing.JTextArea" name="TxtBackup">
          <Properties>
            <Property name="columns" type="int" value="20"/>
            <Property name="rows" type="int" value="5"/>
            <Property name="text" type="java.lang.String" value="Create database TAMECON;&#xa;Use TAMECON;&#xa;Create Table Vehiculo(&#xa;&#x9;Placa varchar(12) primary key,&#xa;    Modelo varchar(50),&#xa;    Color varchar(20),&#xa;    NombreCliente varchar(80)&#xa;);&#xa;Create Table Ayudante(&#xa;&#x9;Id int auto_increment primary key,&#xa;    Nombre varchar(35),&#xa;    Estado CHAR(1)&#xa;);&#xa;&#xa;Create table IngresoVehiculo(&#xa;&#x9;Id int Auto_Increment primary key,&#xa;    Placa varchar(12),&#xa;    PC int,&#xa;    FechaIngreso datetime,&#xa;    FechaIngreso1 varchar(12),&#xa;    FechaSalida datetime,&#xa;    FechaSalida1 varchar(12),&#xa;    foreign key (Placa) references Vehiculo(Placa),&#xa;    Foreign key (PC) references Ayudante(Id)&#xa;);&#xa;Create table Inventario(&#xa;&#x9;Codigo varchar(15)primary key,&#xa;    Material varchar(100),&#xa;    PrecioCompra float,&#xa;    PrecioVenta float,&#xa;    Unidad varchar(10)&#xa;);&#xa;create table DepositoTotal(&#xa;&#x9;Codigo varchar(15)primary key,&#xa;    CEntrada float,&#xa;    CSalida float,&#xa;    CSaldo float,&#xa;&#x9;Foreign key (Codigo) references Inventario(Codigo)&#xa;);&#xa;Create table Deposito(&#xa;&#x9;Codigo varchar(15),&#xa;    CEntrada float,&#xa;    CSalida float,&#xa;    CSaldo float,&#xa;    Fecha datetime,&#xa;    Foreign key (Codigo) references Inventario(Codigo)&#xa;);&#xa;&#xa;Create Table EntregaMateriales(&#xa;&#x9;Id int auto_Increment primary key,&#xa;&#x9;Codigo varchar(15),&#xa;    IdV int,&#xa;    Cantidad float,&#xa;    PrecioVenta float,&#xa;    Fecha datetime,&#xa;    User varchar(25),&#xa;    Descuento float,&#xa;    Foreign key (User) references Usuario(User),&#xa;    Foreign key(Codigo) references Inventario(Codigo),&#xa;    Foreign key (IdV) references IngresoVehiculo(Id)&#xa;);&#xa;&#xa;&#xa;Create table NroVenta(&#xa;&#x9;Id int auto_Increment Primary key,&#xa;    Nombre varchar(50),&#xa;    Descuento float,&#xa;    User varchar(25),&#xa;     Foreign key (User) references Usuario(User)&#xa;);&#xa;&#xa;&#xa;Create table Venta(&#xa;&#x9;I int Auto_Increment primary key,&#xa;&#x9;Id int,&#xa;&#x9;Codigo varchar(15),&#xa;    Cantidad float,&#xa;    PrecioVenta float,&#xa;    FechaCancelacion datetime,&#xa;    Foreign key(Id)references NroVenta(Id),&#xa;    Foreign key(Codigo) references Inventario(Codigo)&#xa;);&#xa;&#xa;                    &#xa;Create Table Usuario(&#xa;&#x9;User varchar(25) primary key,&#xa;    Password varchar(60),&#xa;    NombreUsuario varchar(50),&#xa;    FechaIngreso datetime,&#xa;    Cargo varchar(25)&#xa;);&#xa;create table Proveedor(&#xa;&#x9;Id int auto_increment primary key,&#xa;    Nombre varchar(50),&#xa;    Telefono varchar(20),&#xa;    Direccion varchar(100),&#xa;    Detalles varchar(100)&#xa;);&#xa;Create table Bitacora(&#xa;&#x9;User varchar(25),&#xa;    FechaIngreso datetime,&#xa;    Foreign key (User) references Usuario(User)&#xa;);&#xa;delimiter $&#xa;CREATE PROCEDURE `InsertarNuevoMaterial` (IN `Cod` VARCHAR(15), IN `CM` VARCHAR(50), IN `M` VARCHAR(100), IN `PC` FLOAT, IN `PV` FLOAT, IN `U` VARCHAR(10), IN `C` FLOAT)&#xa;  begin&#xa;&#x9;insert Into Inventario(Codigo,CodMat,Material,PrecioCompra,PrecioVenta,Unidad) Values(Cod,CM,M,PC,PV,U);&#xa;    Insert into Deposito(Codigo,CEntrada,CSalida,Fecha) values(Cod,C,0,now());&#xa;    Insert Into DepositoTotal(Codigo,CEntrada,CSalida,CSaldo) values(Cod,C,0,C);&#xa;&#x9;&#x9;&#xa;end $&#xa;&#xa;&#xa;delimiter $&#xa;create procedure ModificarMaterial(IN Cod VARCHAR(15), IN CM VARCHAR(50), IN M VARCHAR(100), IN PC FLOAT, IN PV FLOAT, IN U VARCHAR(10), IN C FLOAT)&#xa;&#x9;begin&#xa;&#x9;UPDATE Inventario SET CodMat=CM,Material=M,PrecioCompra= PC,PrecioVenta = PV,Unidad=U where Codigo=Cod;&#xa;    UPDATE DepositoTotal SET CEntrada=C,CSaldo=C,CSalida=0 where Codigo=Cod;&#xa;&#x9;end $&#xa;&#xa;DELIMITER $&#xa;CREATE PROCEDURE InsertarDeposito (IN `Cod` VARCHAR(15), IN `CE` FLOAT, IN `CS` FLOAT) &#xa; begin&#xa;Set @CE1=(Select CEntrada from DepositoTotal where Codigo=Cod);&#xa;Set @CS1=(Select CSalida from DepositoTotal where Codigo=Cod);&#xa;&#xa;&#x9;insert Into Deposito(Codigo,CEntrada,CSalida,Fecha) values(Cod,CE,CS,Now());&#xa;    Update DepositoTotal SET CEntrada=CE+@CE1, CSalida=CS+@CS1, CSaldo=(CE+@CE1)-(CS+@CS1) where Codigo=Cod;&#xa;end$&#xa;delimiter $&#xa;create procedure IngresoVehiculo(in placa varchar(12),in Nomb varchar(35),in fecha varchar(12))&#xa;begin&#xa;set @Id=(Select Id from Ayudante where Nombre=Nomb);&#xa;Insert Into IngresoVehiculo(Placa,PC,FechaIngreso1,FechaIngreso,FechaSalida1) values(placa,@Id,fecha,NOW(),&apos;null&apos;);&#xa;end $&#xa;&#xa;delimiter $&#xa;create procedure ModificarIngresoVehiculo(in placa varchar(12),in Nomb varchar(35),in I int)&#xa;begin&#xa;set @Id=(Select Id from Ayudante where Nombre=Nomb);&#xa;Update IngresoVehiculo SET Placa=placa, PC=@Id,FechaIngreso=now() Where Id=I;&#xa;end $&#xa;&#xa;&#xa;delimiter $&#xa;create procedure Entrega(in Cod varchar(15),in Id int,in Cant float,in Us varchar(25),in Des float,in PV float)&#xa;begin&#xa;insert into EntregaMateriales(Codigo,IdV,Cantidad,PrecioVenta,Fecha,User,Descuento)values(Cod,Id,Cant,PV,NOW(),Us,Des);&#xa;CALL InsertarDeposito(Cod,0,Cant);&#xa;end $&#xa;delimiter $&#xa;Create Procedure Quitar(in I int,in Cod Varchar(15),in Cant float)&#xa;begin&#xa;Set @C=(Select CSalida from DepositoTotal Where Codigo=Cod);&#xa;Set @CE=(Select CEntrada from DepositoTotal Where Codigo=Cod);&#xa;Set @CS=(Select CSaldo from DepositoTotal Where Codigo=Cod);&#xa;Delete From EntregaMateriales Where Id=I;&#xa;Update DepositoTotal Set CSalida=@C-Cant,CSaldo=@C-Cant+@CE+Cant Where Codigo=Cod;&#xa;end $&#xa;&#xa;delimiter $&#xa;Create Procedure AgregarRebaja(in Id int,in Des float)&#xa;begin&#xa;Update EntregaMateriales SEt Descuento=Des where IdV=Id;&#xa;end$&#xa;&#xa;delimiter $&#xa;Create Procedure AgregarVenta(in Ide int,Cod varchar(15),&#xa;    Cant float,&#xa;    PV float)&#xa;begin&#xa;insert into Venta(Id,Codigo,Cantidad,PrecioVenta,FechaCancelacion)values(Ide,Cod,Cant,PV,&apos;1111-11-11 00:00:00&apos;);&#xa;CALL InsertarDeposito(Cod,0,Cant);&#xa;end$&#xa;&#xa;delimiter $&#xa;Create Procedure QuitarVenta(in Cod varchar(15),&#xa;    in Cant float,&#xa;    in iss int)&#xa;begin&#xa;Set @C=(Select CSalida from DepositoTotal Where Codigo=Cod);&#xa;Set @CE=(Select CEntrada from DepositoTotal Where Codigo=Cod);&#xa;Delete From Venta  Where I=iss;&#xa;Update DepositoTotal Set CSalida=@C-Cant,CSaldo=@CE-(@C-Cant) Where Codigo=Cod;&#xa;end$&#xa;&#xa;delimiter $&#xa;create procedure InsertarDescuento(in Des float,in iss int)&#xa;begin&#xa;&#x9;Update NroVenta Set Descuento=Des Where Id=iss;&#xa;end $&#xa;&#xa;delimiter $&#xa;Create Procedure FechaS(in FS varchar(12),in d int)&#xa;begin&#xa;UPDATE IngresoVehiculo SET FechaSalida1=FS,FechaSalida=now() where Id=d;&#xa;end $&#xa;Select * From Venta;&#xa;Select * From NroVenta;&#xa;delimiter $&#xa;Create Procedure FeS(in iss int)&#xa;begin&#xa;UPDATE Venta SET FechaCancelacion=now() where Id=iss;&#xa;end $&#xa;&#xa;delimiter $&#xa;Create Procedure RVenta(in Nomb varchar(50),in Us varchar(25))&#xa;begin&#xa;insert into NroVenta(Nombre,User,Descuento) values(Nomb,Us,0);&#xa;end $&#xa;&#xa;&#xa;DELIMITER $$&#xa;--&#xa;-- Procedimientos&#xa;--&#xa;CREATE  PROCEDURE AgregarRebaja (IN Id INT, IN Des FLOAT)  begin&#xa;Update EntregaMateriales SEt Descuento=Des where IdV=Id;&#xa;end$$&#xa;&#xa;CREATE  PROCEDURE AgregarVenta (IN Ide INT, Cod VARCHAR(15), Cant FLOAT, PV FLOAT)  begin&#xa;insert into Venta(Id,Codigo,Cantidad,PrecioVenta,FechaCancelacion)values(Ide,Cod,Cant,PV,&apos;1111-11-11 00:00:00&apos;);&#xa;CALL InsertarDeposito(Cod,0,Cant);&#xa;end$$&#xa;&#xa;CREATE PROCEDURE Entrega (IN Cod VARCHAR(15), IN Id INT, IN Cant FLOAT, IN Us VARCHAR(25), IN Des FLOAT, IN PV FLOAT)  begin&#xa;insert into EntregaMateriales(Codigo,IdV,Cantidad,PrecioVenta,Fecha,User,Descuento)values(Cod,Id,Cant,PV,NOW(),Us,Des);&#xa;CALL InsertarDeposito(Cod,0,Cant);&#xa;end$$&#xa;&#xa;CREATE PROCEDURE FechaS (IN FS VARCHAR(12), IN d INT)  begin&#xa;UPDATE IngresoVehiculo SET FechaSalida1=FS,FechaSalida=now() where Id=d;&#xa;end$$&#xa;&#xa;CREATE PROCEDURE FeS (IN iss INT)  begin&#xa;UPDATE Venta SET FechaCancelacion=now() where Id=iss;&#xa;end$$&#xa;&#xa;CREATE PROCEDURE IngresoVehiculo (IN placa VARCHAR(12), IN Nomb VARCHAR(35), IN fecha VARCHAR(12))  begin&#xa;set @Id=(Select Id from Ayudante where Nombre=Nomb);&#xa;Insert Into IngresoVehiculo(Placa,PC,FechaIngreso1,FechaIngreso,FechaSalida1) values(placa,@Id,fecha,NOW(),&apos;null&apos;);&#xa;end$$&#xa;&#xa;CREATE PROCEDURE InsertarDeposito (IN Cod VARCHAR(15), IN CE FLOAT, IN CS FLOAT)  begin&#xa;Set @CE1=(Select CEntrada from DepositoTotal where Codigo=Cod);&#xa;Set @CS1=(Select CSalida from DepositoTotal where Codigo=Cod);&#xa;&#xa;&#x9;insert Into Deposito(Codigo,CEntrada,CSalida,Fecha) values(Cod,CE,CS,Now());&#xa;    Update DepositoTotal SET CEntrada=CE+@CE1, CSalida=CS+@CS1, CSaldo=(CE+@CE1)-(CS+@CS1) where Codigo=Cod;&#xa;end$$&#xa;&#xa;CREATE PROCEDURE InsertarDescuento (IN Des FLOAT, IN iss INT)  begin&#xa;&#x9;Update NroVenta Set Descuento=Des Where Id=iss;&#xa;end$$&#xa;&#xa;CREATE PROCEDURE InsertarNuevoMaterial (IN Cod VARCHAR(15), IN CM VARCHAR(50), IN M VARCHAR(100), IN PC FLOAT, IN PV FLOAT, IN U VARCHAR(10), IN C FLOAT)  begin&#xa;&#x9;insert Into Inventario(Codigo,CodMat,Material,PrecioCompra,PrecioVenta,Unidad) Values(Cod,CM,M,PC,PV,U);&#xa;    Insert into Deposito(Codigo,CEntrada,CSalida,Fecha) values(Cod,C,0,now());&#xa;    Insert Into DepositoTotal(Codigo,CEntrada,CSalida,CSaldo) values(Cod,C,0,C);&#xa;    &#xa;end$$&#xa;&#xa;CREATE  PROCEDURE InsertarProveedor (IN Nomb VARCHAR(50), IN Telef VARCHAR(20), IN Direc VARCHAR(100), IN Det VARCHAR(100))  begin&#xa;Insert Into Proveedor(Nombre,Telefono,Direccion,Detalles)values(Nomb,Telef,Direc,Det);&#xa;end$$&#xa;&#xa;CREATE PROCEDURE ModificarAyudante (IN I INT, IN Nomb VARCHAR(35), IN St CHAR(1))  begin&#xa;&#x9;UPDATE Ayudante SET Estado=St, Nombre=Nomb Where Id=I;&#xa;end$$&#xa;&#xa;CREATE PROCEDURE ModificarIngresoVehiculo (IN placa VARCHAR(12), IN Nomb VARCHAR(35), IN I INT)  begin&#xa;set @Id=(Select Id from Ayudante where Nombre=Nomb);&#xa;Update IngresoVehiculo SET Placa=placa, PC=@Id,FechaIngreso=now() Where Id=I;&#xa;end$$&#xa;&#xa;CREATE PROCEDURE ModificarMaterial (IN Cod VARCHAR(15), IN CM VARCHAR(50), IN M VARCHAR(100), IN PC FLOAT, IN PV FLOAT, IN U VARCHAR(10), IN C FLOAT)  begin&#xa;&#x9;UPDATE Inventario SET CodMat=CM,Material=M,PrecioCompra= PC,PrecioVenta = PV,Unidad=U where Codigo=Cod;&#xa;    UPDATE DepositoTotal SET CEntrada=C,CSaldo=C,CSalida=0 where Codigo=Cod;&#xa;&#x9;end$$&#xa;&#xa;CREATE PROCEDURE ModificarProveedor (IN Nomb VARCHAR(50), IN Telef VARCHAR(20), IN Direc VARCHAR(100), IN Det VARCHAR(100), IN I INT)  begin&#xa;    Update Proveedor Set Nombre=Nomb,Telefono=Telef,Direccion=Direc,Detalles=Det Where Id=I;&#xa;    End$$&#xa;&#xa;CREATE PROCEDURE Quitar (IN I INT, IN Cod VARCHAR(15), IN Cant FLOAT)  begin&#xa;Set @C=(Select CSalida from DepositoTotal Where Codigo=Cod);&#xa;Set @CE=(Select CEntrada from DepositoTotal Where Codigo=Cod);&#xa;Set @CS=(Select CSaldo from DepositoTotal Where Codigo=Cod);&#xa;Delete From EntregaMateriales Where Id=I;&#xa;Update DepositoTotal Set CSalida=@C-Cant,CSaldo=@C-Cant+@CE+Cant Where Codigo=Cod;&#xa;end$$&#xa;&#xa;CREATE PROCEDURE QuitarVenta (IN Cod VARCHAR(15), IN Cant FLOAT, IN iss INT)  begin&#xa;Set @C=(Select CSalida from DepositoTotal Where Codigo=Cod);&#xa;Set @CE=(Select CEntrada from DepositoTotal Where Codigo=Cod);&#xa;Delete From Venta  Where I=iss;&#xa;Update DepositoTotal Set CSalida=@C-Cant,CSaldo=@CE-(@C-Cant) Where Codigo=Cod;&#xa;end$$&#xa;&#xa;CREATE PROCEDURE RVenta (IN Nomb VARCHAR(50), IN Us VARCHAR(25))  begin&#xa;insert into NroVenta(Nombre,User,Descuento) values(Nomb,Us,0);&#xa;end$$&#xa;&#xa;DELIMITER ;"/>
          </Properties>
        </Component>
      </SubComponents>
    </Container>
    <Component class="javax.swing.JButton" name="jButton1">
      <Properties>
        <Property name="text" type="java.lang.String" value="GUARDAR COPIA DE SEGURIDAD"/>
      </Properties>
      <Events>
        <EventHandler event="actionPerformed" listener="java.awt.event.ActionListener" parameters="java.awt.event.ActionEvent" handler="jButton1ActionPerformed"/>
      </Events>
    </Component>
  </SubComponents>
</Form>
